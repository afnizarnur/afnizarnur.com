[build]
  command = "pnpm turbo run build --filter=@afnizarnur/web"
  publish = "apps/web/dist"

[build.environment]
  NODE_VERSION = "20"
  PNPM_VERSION = "9"

[context.production.environment]
  PUBLIC_SANITY_PROJECT_ID = "replace-with-sanity-project-id"
  PUBLIC_SANITY_DATASET = "production"
  PUBLIC_SITE_URL = "https://afnizarnur.com"

[[headers]]
    for = "/*"
    [headers.values]
        X-Frame-Options = "DENY"
        X-XSS-Protection = "1; mode=block"
        X-Content-Type-Options = "nosniff"
        Referrer-Policy= "no-referrer-when-downgrade"
        Permissions-Policy = "interest-cohort=()"

[[redirects]]
    from = "https://afnizarnur.netlify.com/*"
    to = "https://afnizarnur.com/:splat"
    status = 301
    force = true

[[redirects]]
    from = "*"
    to = "/404"
    status = 404
