---
import BaseLayout from "../layouts/BaseLayout.astro"
import PortableText from "../components/PortableText.astro"
import { getPageBySlug } from "../server/data"
import PageHeader from "../components/PageHeader.astro"

const page = await getPageBySlug("about")

if (!page) {
    return Astro.redirect("/404")
}

const seoTitle = page.seo?.title || page.title
const seoDescription =
    page.seo?.description || "Learn about Afnizar Nur Ghifari, product designer and developer."
---

<BaseLayout title={seoTitle} description={seoDescription}>
    <article class="page-shell page-shell--narrow">
        <PageHeader eyebrow="About" title={page.title} />

        <div class="prose prose-lg prose-neutral max-w-none">
            <PortableText value={page.body} />
        </div>
    </article>
</BaseLayout>
