---
import BaseLayout from '../layouts/BaseLayout.astro';
import PortableText from '../components/PortableText.astro';
import { getPageBySlug } from '../server/data';

const page = await getPageBySlug('about');

if (!page) {
  return Astro.redirect('/404');
}

const seoTitle = page.seo?.title || page.title;
const seoDescription = page.seo?.description || 'Learn about Afnizar Nur Ghifari, product designer and developer.';
---

<BaseLayout title={seoTitle} description={seoDescription}>
  <article class="mx-auto max-w-3xl px-4 py-16 sm:px-6 lg:px-8">
    <header class="mb-12">
      <h1 class="text-4xl font-bold text-neutral-900 sm:text-5xl">
        {page.title}
      </h1>
    </header>

    <div class="prose prose-lg prose-neutral max-w-none">
      <PortableText value={page.body} />
    </div>
  </article>
</BaseLayout>
