---
import type { NavigationItem } from "@afnizarnur/ui"

export interface Props {
    items: NavigationItem[]
    currentPath?: string
}

const { items, currentPath } = Astro.props
---

<nav class="sticky top-0 z-40 border-b border-border-secondary bg-background-primary backdrop-blur">
    <div class="mx-auto max-w-7xl px-16 py-12 sm:px-24 lg:px-32 flex items-center justify-between gap-16">
        <a
            href="/"
            class="flex items-center gap-8 text-text-primary transition-colors hover:text-text-accent-primary"
            aria-label="Afnizar Nur Ghifari home"
        >
            <span class="inline-flex items-center gap-8 rounded-full bg-background-accent-primary px-12 py-4 text-xs font-medium text-text-accent-primary"
                >AN</span
            >
            <span class="hidden sm:flex flex-col leading-tight">
                <span class="text-sm font-semibold tracking-wide uppercase">
                    Afnizar Nur
                </span>
                <span class="text-xs font-medium text-text-secondary">
                    Product Designer & Developer
                </span>
            </span>
        </a>

        <ul class="flex items-center gap-12">
            {
                items.map((item) => {
                    const href = item.href.startsWith("http")
                        ? item.href
                        : item.href.startsWith("/")
                          ? item.href
                          : `/${item.href}`
                    const isActive = currentPath === href
                    return (
                        <li>
                            <a
                                href={href}
                                target={item.newTab ? "_blank" : undefined}
                                rel={item.newTab ? "noopener noreferrer" : undefined}
                                class:list={{
                                    "inline-flex items-center justify-center gap-8 rounded-full px-12 py-8 text-sm font-semibold transition-colors duration-150": true,
                                    "bg-background-secondary text-text-primary box-shadow-[0_18px_40px_rgba(0,_0,_0,_0.06)]":
                                        isActive,
                                    "text-text-secondary hover:text-text-primary hover:bg-background-secondary":
                                        !isActive,
                                }}
                                aria-current={isActive ? "page" : undefined}
                            >
                                {item.title}
                            </a>
                        </li>
                    )
                })
            }
        </ul>
    </div>
</nav>
