---
import type { PostCardProps } from "@afnizarnur/ui"

export type Props = PostCardProps

const { title, slug, excerpt, publishedAt, coverImage, coverImageAlt, tags } = Astro.props

const formattedDate = new Date(publishedAt).toLocaleDateString("en-US", {
    year: "numeric",
    month: "long",
    day: "numeric",
})
---

<a
    href={`/blog/${slug}`}
    class="group relative block overflow-hidden rounded-3xl border border-borderColor-secondary bg-gradient-to-br from-bgColor-secondary to-bgColor-primary p-24 transition-transform duration-200 hover:translate-y-1 hover:shadow-lg"
>
    <div class="space-y-16">
        {
            coverImage && (
                <div class="overflow-hidden rounded-2xl">
                    <img
                        src={`${coverImage}?w=800&h=400&fit=crop&auto=format`}
                        alt={coverImageAlt || title}
                        class="aspect-video w-full object-cover transition-transform duration-300 group-hover:scale-105"
                        loading="lazy"
                    />
                </div>
            )
        }

        <div class="space-y-8">
            <time class="text-sm text-fgColor-tertiary" datetime={publishedAt}>
                {formattedDate}
            </time>

            <h3 class="text-xl font-semibold text-fgColor-primary transition-colors group-hover:text-fgColor-accent-primary">
                {title}
            </h3>

            <p class="text-fgColor-secondary">{excerpt}</p>

            {
                tags && tags.length > 0 && (
                    <div class="flex flex-wrap gap-8 pt-8">
                        {tags.map((tag) => (
                            <span class="inline-flex items-center gap-8 rounded-full bg-bgColor-secondary px-12 py-4 text-xs font-medium text-fgColor-primary">
                                {tag.title}
                            </span>
                        ))}
                    </div>
                )
            }
        </div>
    </div>
</a>
